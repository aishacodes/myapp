{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phoneServices.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","filter","handleFilterCh","value","onChange","PersonForm","addName","handleNewNumber","newNumber","newName","handleNewName","onSubmit","type","Persons","persons","handleDeletee","console","log","map","person","name","number","onClick","e","window","confirm","id","_id","handleDelete","baseUrl","phoneService","getAll","axios","get","create","newObject","post","removePerson","delete","updatePerson","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","message","setMessage","errmessage","setErrmessage","useEffect","then","res","data","handleFilter","trim","toLowerCase","indexOf","contactToShow","length","className","target","event","preventDefault","userExist","find","catch","er","newObj","setTimeout","error","req","err","response","status","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.53d1f974.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Filter({ filter, handleFilterCh }) {\n  return (\n    <div>\n      Filter shown with: <input value={filter} onChange={handleFilterCh} />\n    </div>\n  );\n}\n\nexport default Filter;\n","import React from \"react\";\n\nfunction PersonForm({\n  addName,\n  handleNewNumber,\n  newNumber,\n  newName,\n  handleNewName,\n}) {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input value={newName} onChange={handleNewName} />\n      </div>{\" \"}\n      <br />\n      <div>\n        number: <input value={newNumber} onChange={handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n}\n\nexport default PersonForm;\n","import React from \"react\";\n\nfunction Persons({ persons, handleDeletee }) {\n  console.log(persons);\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name}?`))\n      handleDeletee(person.id || person._id);\n  };\n  return (\n    <div>\n      {persons.map((person) => (\n        <p key={person.name}>\n          {person.name} {person.number}{\" \"}\n          <button onClick={(e) => handleDelete(person)}>delete</button>\n        </p>\n      ))}{\" \"}\n    </div>\n  );\n}\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject);\n};\nconst removePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\nconst updatePerson = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject);\n};\n\nconst phoneService = {\n  getAll,\n  create,\n  removePerson,\n  updatePerson,\n};\nexport default phoneService;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\n\nimport phoneService from \"./services/phoneServices\";\n\nimport \"./App.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [errmessage, setErrmessage] = useState(\"\");\n\n  useEffect(() => {\n    phoneService.getAll().then((res) => setPersons(res.data));\n  }, []);\n\n  const AddName = (event) => {\n    event.preventDefault();\n    if (!newName.trim()) return null;\n    const userExist = persons.find(\n      (person) =>\n        person.name.toLowerCase().trim() === newName.toLowerCase().trim()\n    );\n    if (userExist) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook. replace the old number with a new one?`\n        )\n      ) {\n        const id = userExist.id || userExist._id;\n        phoneService\n          .updatePerson(id, {\n            name: userExist.name,\n            number: newNumber.trim(),\n          })\n          .then((res) => {\n            console.log(res);\n            setPersons((persons) =>\n              persons.map((person) => {\n                if (person.id || person._id === res.data._id || res.data.id)\n                  person.number = res.data.number;\n                return person;\n              })\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            return;\n          })\n          .catch((er) => console.log(er));\n        return;\n      }\n    }\n    const newObj = { name: newName.trim(), number: newNumber.trim() };\n    phoneService\n      .create(newObj)\n      .then((res) => {\n        setPersons([...persons, res.data]);\n        setMessage(`Added ${newName}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n        setNewName(\"\");\n        setNewNumber(\"\");\n      })\n      .catch((error) => {\n        console.log(error.res);\n        // setErrmessage(error.res.data);\n      });\n  };\n\n  // const handleFilter = (ev) => {\n  //   console.log(ev);\n  //   ev.preventDefault();\n  //   const query = ev.target.value;\n  //   if (!query.trim()) setFilter(() => null);\n  //   setFilter(\n  //     persons.filter((person) => {\n  //       return (\n  //         person.name.toLowerCase().trim().indexOf(query.trim().toLowerCase()) >\n  //         -1\n  //       );\n  //     })\n  //   );\n  // };\n  const handleFilter = persons.filter(\n    (person) =>\n      person.name.trim().toLowerCase().indexOf(filter.trim().toLowerCase()) > -1\n  );\n  const handleNewNumber = (e) => setNewNumber(e.target.value);\n  const handleNewName = (e) => setNewName(e.target.value);\n  const handleFilterCh = (e) => setFilter(e.target.value);\n  const contactToShow = handleFilter.length ? handleFilter : persons;\n\n  const handleDelete = (id) => {\n    phoneService\n      .removePerson(id)\n      .then((res, req) => {\n        setPersons((persons) =>\n          persons.filter((person) => person.id || person._id !== id)\n        );\n      })\n      .catch((err) => {\n        if (\n          err.response &&\n          err.response.status &&\n          err.response.status === 404\n        ) {\n          setErrmessage(\n            `${\n              persons.find((person) => person.id === id).name\n            } has already been removed from server`\n          );\n        }\n      });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <p className=\"message\">\n        {message && <span className=\"sucess\">{message}</span>}\n        {errmessage && <span className=\"error\">{errmessage}</span>}\n      </p>\n      <Filter filter={filter} handleFilterCh={handleFilterCh} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addName={AddName}\n        newName={newName}\n        handleNewName={handleNewName}\n        newNumber={newNumber}\n        handleNewNumber={handleNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={contactToShow} handleDeletee={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}