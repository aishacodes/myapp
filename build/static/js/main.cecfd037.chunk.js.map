{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phoneServices.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","filter","handleFilterCh","value","onChange","PersonForm","addName","handleNewNumber","newNumber","newName","handleNewName","onSubmit","type","Persons","persons","handleDeletee","map","person","name","number","onClick","e","window","confirm","id","handleDelete","baseUrl","phoneService","getAll","axios","get","create","newObject","post","removePerson","delete","updatePerson","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","message","setMessage","errmessage","setErrmessage","useEffect","then","res","data","handleFilter","trim","toLowerCase","indexOf","contactToShow","length","className","target","event","preventDefault","userExist","find","catch","er","console","log","newObj","setTimeout","err","response","status","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cecfd037.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Filter({ filter, handleFilterCh }) {\n  return (\n    <div>\n      Filter shown with: <input value={filter} onChange={handleFilterCh} />\n    </div>\n  );\n}\n\nexport default Filter;\n","import React from \"react\";\n\nfunction PersonForm({\n  addName,\n  handleNewNumber,\n  newNumber,\n  newName,\n  handleNewName,\n}) {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input value={newName} onChange={handleNewName} />\n      </div>{\" \"}\n      <br />\n      <div>\n        number: <input value={newNumber} onChange={handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n}\n\nexport default PersonForm;\n","import React from \"react\";\n\nfunction Persons({ persons, handleDeletee }) {\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) handleDeletee(person.id);\n  };\n  return (\n    <div>\n      {persons.map((person) => (\n        <p key={person.name}>\n          {person.name} {person.number}{\" \"}\n          <button onClick={(e) => handleDelete(person)}>delete</button>\n        </p>\n      ))}{\" \"}\n    </div>\n  );\n}\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject);\n};\nconst removePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\nconst updatePerson = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject);\n};\n\nconst phoneService = {\n  getAll,\n  create,\n  removePerson,\n  updatePerson,\n};\nexport default phoneService;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\n\nimport phoneService from \"./services/phoneServices\";\n\nimport \"./App.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [errmessage, setErrmessage] = useState(\"\");\n\n  useEffect(() => {\n    phoneService.getAll().then((res) => setPersons(res.data));\n  }, []);\n\n  const AddName = (event) => {\n    event.preventDefault();\n    if (!newName.trim()) return null;\n    const userExist = persons.find(\n      (person) =>\n        person.name.toLowerCase().trim() === newName.toLowerCase().trim()\n    );\n    if (userExist) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook. replace the old number with a new one?`\n        )\n      ) {\n        const id = userExist.id;\n        phoneService\n          .updatePerson(id, {\n            name: userExist.name,\n            number: newNumber.trim(),\n          })\n          .then((res) => {\n            setPersons((persons) =>\n              persons.map((person) => {\n                if (person.id === res.data.id) person.number = res.data.number;\n                return person;\n              })\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            return;\n          })\n          .catch((er) => console.log(er));\n        return;\n      }\n    }\n    const newObj = { name: newName.trim(), number: newNumber.trim() };\n    phoneService.create(newObj).then((res) => {\n      setPersons([...persons, res.data]);\n      setMessage(`Added ${newName}`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n      setNewName(\"\");\n      setNewNumber(\"\");\n    });\n  };\n\n  // const handleFilter = (ev) => {\n  //   console.log(ev);\n  //   ev.preventDefault();\n  //   const query = ev.target.value;\n  //   if (!query.trim()) setFilter(() => null);\n  //   setFilter(\n  //     persons.filter((person) => {\n  //       return (\n  //         person.name.toLowerCase().trim().indexOf(query.trim().toLowerCase()) >\n  //         -1\n  //       );\n  //     })\n  //   );\n  // };\n  const handleFilter = persons.filter(\n    (person) =>\n      person.name.trim().toLowerCase().indexOf(filter.trim().toLowerCase()) > -1\n  );\n  const handleNewNumber = (e) => setNewNumber(e.target.value);\n  const handleNewName = (e) => setNewName(e.target.value);\n  const handleFilterCh = (e) => setFilter(e.target.value);\n  const contactToShow = handleFilter.length ? handleFilter : persons;\n\n  const handleDelete = (id) => {\n    phoneService\n      .removePerson(id)\n      .then(() => {\n        setPersons((persons) => persons.filter((person) => person.id !== id));\n      })\n      .catch((err) => {\n        if (\n          err.response &&\n          err.response.status &&\n          err.response.status === 404\n        ) {\n          setErrmessage(\n            `${\n              persons.find((person) => person.id === id).name\n            } has already been removed from server`\n          );\n        }\n      });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <p className=\"message\">\n        {message && <span className=\"sucess\">{message}</span>}\n        {errmessage && <span className=\"error\">{errmessage}</span>}\n      </p>\n      <Filter filter={filter} handleFilterCh={handleFilterCh} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addName={AddName}\n        newName={newName}\n        handleNewName={handleNewName}\n        newNumber={newNumber}\n        handleNewNumber={handleNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={contactToShow} handleDeletee={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}